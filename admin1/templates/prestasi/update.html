{% extends 'administration/base.html' %}
{% load static %}
{% block content %}
<div class="content-wrapper">
    <div class="container-xxl flex-grow-1 container-p-y">
        <h4 class="fw-bold py-3 mb-4"> Edit Data </h4>
        <div class="card">
            <div class="card-header">
                <form class="form form-vertical" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="row">
                        <div class="mb-3 col-md-4">
                            <label class="form-label">Nama </label>
                            <input class="form-control" type="text" name="nama" value="{{data.nama}}" />
                        </div>
                        <div class="mb-3 col-md-4">
                            <label class="form-label">Slug </label>
                            <input class="form-control" type="text" name="slug" value="{{data.slug}}" />
                        </div>
                        <div class="mb-3 col-md-4">
                            <label class="form-label">Alamat Lomba</label>
                            <input class="form-control" type="text" name="lokasi" value="{{data.lokasi}}" />
                        </div>
                        <div class="mb-3 col-md-6">
                            <label for="firstName" class="form-label">Logo saat ini</label>
                            <p class="text-primary">{{data.image}}</p>
                            <input class="form-control" type="file" name="image" value="{{data.image}}" />
                        </div>
                        <div class="mb-3 col-md-6">
                            <label class="form-label">Tanggal</label>
                            <input type="text" class="form-control" value="{{data.created_at}}" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="mb-3 col-md-12">
                            <label class="form-label">Deskripsi</label>
                            <textarea name="content" id="id_content">{{ data.content|safe }}</textarea>
                        </div>
                    </div>
                    <br>
                    <div class="col-12 d-flex justify-content-end">
                        <button type="submit" class="btn btn-primary me-1 mb-1">Simpan</button>
                        <button type="reset" class="btn btn-secondary me-1 mb-1">Reset</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- CKEditor JS -->
<script src="{% static 'ckeditor/ckeditor/ckeditor.js' %}"></script>
<script>
    CKEDITOR.replace('id_content', {
        extraPlugins: 'uploadimage,image2,autogrow,codesnippet',
        filebrowserUploadUrl: '/ckeditor/upload/',
        filebrowserBrowseUrl: '/ckeditor/browse/',
        autoGrow_minHeight: 500,
        autoGrow_maxHeight: 900,
        autoGrow_onStartup: true,
        removePlugins: 'resize',
        width: '100%',
        toolbar: [
            { name: 'document', items: ['Source', '-', 'Preview', 'Print'] },
            { name: 'clipboard', items: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo'] },
            { name: 'editing', items: ['Find', 'Replace', '-', 'SelectAll', '-', 'Scayt'] },
            { name: 'basicstyles', items: ['Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript', '-', 'CopyFormatting', 'RemoveFormat'] },
            { name: 'paragraph', items: ['NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote', 'CreateDiv', '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock'] },
            { name: 'links', items: ['Link', 'Unlink', 'Anchor'] },
            { name: 'insert', items: ['Image', 'Table', 'HorizontalRule', 'Smiley', 'SpecialChar', 'PageBreak', 'Iframe', 'CodeSnippet'] },
            { name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize'] },
            { name: 'colors', items: ['TextColor', 'BGColor'] },
            { name: 'tools', items: ['Maximize', 'ShowBlocks'] },
        ],
        format_tags: 'p;h1;h2;h3;h4;h5;h6;pre',
        toolbarCanCollapse: false,
        codeSnippet_theme: 'monokai_sublime',
        contentsCss: 'body { font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif; font-size: 16px; line-height: 1.6; color: #333; }',
    });
</script>
{% endblock %}